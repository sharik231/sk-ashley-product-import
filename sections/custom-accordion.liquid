{% schema %}
{
  "name": "Spotlight Video Tabs",
  "settings": [],
  "blocks": [
    {
      "type": "tab",
      "name": "Tab",
      "settings": [
        {
          "type": "text",
          "id": "tab_title",
          "label": "Tab Title",
          "default": "London"
        },
        {
          "type": "url",
          "id": "video_url",
          "label": "Video URL"
        },
        {
          "type": "textarea",
          "id": "tab_description",
          "label": "Tab Description",
          "default": "Description here..."
        }
      ]
    }
  ],
  "max_blocks": 10,
  "presets": [
    {
      "name": "Spotlight Video Tabs",
      "category": "Custom"
    }
  ]
}
{% endschema %}

<div class="careersSfour">
  <div class="container">
    <div class="row ExP"><h1>Spotlight Jobs</h1></div>
    <div class="row ExP">
      <div class="tab">
        {% for block in section.blocks %}
          <button class="tablinks {% if forloop.first %}active{% endif %}" onclick="openCity(event, 'tab{{ forloop.index }}')" {% if forloop.first %}id="defaultOpen"{% endif %}>
            <span>â–¶</span>{{ block.settings.tab_title }}
          </button>
        {% endfor %}
      </div>

      {% for block in section.blocks %}
        <div id="tab{{ forloop.index }}" class="tabcontent" style="{% unless forloop.first %}display:none;{% endunless %}">
          <h3>{{ block.settings.tab_title }}</h3>
          <p>{{ block.settings.tab_description }}</p>
          {% if block.settings.video_url != blank %}
            <div class="video-wrapper">
              {% assign video_url = block.settings.video_url %}
              {% if video_url contains 'youtu.be' %}
                {% assign video_id = video_url | split: '/' | last %}
                <iframe src="https://www.youtube.com/embed/{{ video_id }}" frameborder="0" allowfullscreen></iframe>
              {% elsif video_url contains 'watch?v=' %}
                {% assign video_id = video_url | split: 'watch?v=' | last | split: '&' | first %}
                <iframe src="https://www.youtube.com/embed/{{ video_id }}" frameborder="0" allowfullscreen></iframe>
              {% else %}
                <iframe src="{{ video_url }}" frameborder="0" allowfullscreen></iframe>
              {% endif %}
            </div>
          {% endif %}
        </div>
      {% endfor %}
    </div>
  </div>
</div>

<script>
  function openCity(evt, cityName) {
    var i, tabcontent, tablinks;
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
      tabcontent[i].style.display = "none";
    }
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
      tablinks[i].classList.remove("active");
    }
    document.getElementById(cityName).style.display = "block";
    evt.currentTarget.classList.add("active");
  }

  document.getElementById("defaultOpen").click();
</script>

<style>
  .careersSfour{
        padding: 20px 0;
  }
.tab {
  float: left;
  border: none;
  background-color: #fff;
  width: 30%;
  padding: 0;
  height: auto;
  padding-right: 5%;
}

.tab button {
  display: flex;
  background-color: inherit;
  color: black;
  padding: 22px 16px;
  width: 100%;
  border-bottom: 1px solid #cbcbcb;
  outline: none;
  text-align: left;
  cursor: pointer;
  transition: 0.3s;
  font-size: 17px;
  line-height: 35px;
}

.tab button:hover {
  background-color: #ddd;
}

.tab button.active {
  background-color: #f1f1f1;
}

.tab button.active span {
  background: #f8860b;
}

.tabcontent {
  float: left;
  padding: 0;
  width: 70%;
  height: auto;
}

.ExP {
  padding: 0 35px;
}

.tablinks span {
  margin-right: 15px;
  font-size: 1.25rem;
  color: #fff;
  background: #e5e5e5;
  padding: 2px 0 0 4px;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-content: center;
  flex-wrap: wrap;
  justify-content: center;
}

.video-wrapper {
  position: relative;
  padding-bottom: 56.25%;
  height: 0;
  overflow: hidden;
}

.video-wrapper iframe {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
.tabcontent h3{
  display:none;
}
.ExP {
    padding: 0;
    margin: 40px 0;
}

 @media screen and (max-width:320px){
   #shopify-section-template--24816893690227__custom_accordion_PCP9nd{
     margin:0px 20px;
   }
   #shopify-section-template--24816893690227__custom_accordion_PCP9nd .careersSfour h1{
     padding:0px!important;
   }
   .ExP{
     margin:0px 0px 40px;
   }
   .ExP h1{
       padding:0px!important;
     }
   #shopify-section-template--24816893690227__custom_accordion_PCP9nd .tab{
           width: 100%!important;
       padding-right:0px!important;
   }
   #shopify-section-template--24816893690227__custom_accordion_PCP9nd .tabcontent{
       width: 100%!important;
     }
     
 }
   @media screen and (max-width:480px){
     #shopify-section-template--24816893690227__custom_accordion_PCP9nd{
     margin:0px 20px;
   }
     #shopify-section-template--24816893690227__custom_accordion_PCP9nd .careersSfour h1{
     padding:0px!important;
   }
   .ExP{
     margin:0px 0px 40px;
   }
     .ExP h1{
       padding:0px!important;
     }
     #shopify-section-template--24816893690227__custom_accordion_PCP9nd .tab{
           width: 100%!important;
       padding-right:0px!important;
     }
     #shopify-section-template--24816893690227__custom_accordion_PCP9nd .tabcontent{
       width: 100%!important;
     }
 }
   @media screen and (max-width:768px){
    #shopify-section-template--24816893690227__custom_accordion_PCP9nd{
     margin:0px 20px;
   }
     #shopify-section-template--24816893690227__custom_accordion_PCP9nd .careersSfour h1{
     padding:0px!important;
   }
   .ExP{
     margin:0px 0px 40px;
   }
     .ExP h1{
       padding:0px!important;
     }
     #shopify-section-template--24816893690227__custom_accordion_PCP9nd .tab{
           width: 100%!important;
       padding-right:0px!important;
     }
     #shopify-section-template--24816893690227__custom_accordion_PCP9nd .tabcontent{
       width: 100%!important;
     }
 }
</style>
